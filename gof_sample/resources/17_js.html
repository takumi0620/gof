<html><head><title>java sample code</title><meta http-equiv="Content-Type" content="text/html; charset=x-sjis"></head><body bgcolor=#ffffff text=#000000><img src="img/00/java.gif" hspace="10"><font style="margin-left:40px"><p><pre>/* *  DialogDirector * *  役割：&lt;Mediator&gt; */public abstract class DialogDirector {    public DialogDirector() {        createWidgets();        // ...    }    public void showDialog() {        // ...    }    public abstract void widgetChanged(Widget theChangedWidget);    protected abstract void createWidgets();}import java.awt.event.*;/* *  Widget * *  役割：&lt;Colleague&gt; */public abstract class Widget                     implements MouseListener, MouseMotionListener {    public Widget(DialogDirector director) {        _director = director;    }    public void changed() {        _director.widgetChanged(this);    }    // MouseListener インターフェースのメソッド    public void mousePressed(MouseEvent e) {}    public void mouseReleased(MouseEvent e) {}    public void mouseClicked(MouseEvent e) {}    public void mouseEntered(MouseEvent e) {}    public void mouseExited(MouseEvent e) {}    // MouseMoutionListener インターフェースのメソッド    public void mouseDragged(MouseEvent e) {}    public void mouseMoved(MouseEvent e) {}    private DialogDirector _director;}/* *  ListBox * *  役割：&lt;ConcreteColleague&gt; */public class ListBox extends Widget {    public ListBox(DialogDirector director) {        super(director);        // ...    }    public String getSelection() {        // ...    }    public void setList(java.util.Vector listItems) {        // ...    }    // 必要な MouseLister インターフェースのメソッドを実装    public void mousePressed(MouseEvent e) {        // ...    }    // ...    // 必要な MouseMotionListener インターフェースのメソッドを実装    public void mouseDragged(MouseEvent e) {        // ...    }    // ...}/* *  EntryField * *  役割：&lt;ConcreteColleague&gt; */public class EntryField extends Widget {    public EntryField(DialogDirector director) {        super(director);        // ...    }    public void setText(String text) {        // ...    }    public String getText() {        // ...    }    // 必要な MouseLister インターフェースのメソッドを実装    public void mousePressed(MouseEvent e) {        // ...    }    // ...    // 必要な MouseMotionListener インターフェースのメソッドを実装    public void mouseDragged(MouseEvent e) {        // ...    }    // ...}/* *  Button * *  役割：&lt;ConcreteColleague&gt; */public class Button extends Widget {    public Button(DialogDirector director) {        super(director);        // ...    }    public void setText(String text) {        // ...    }    // 必要な MouseLister インターフェースのメソッドを実装    public void mousePressed(MouseEvent e) {        // ...        changed();  // ボタンが押される度に DialogDirector を呼び出す    }    // ...    // 必要な MouseMotionListener インターフェースのメソッドを実装    public void mouseDragged(MouseEvent e) {        // ...    }    // ...}/* *  FontDialogDirector * *  役割：&lt;ConcreteMediator&gt; */public class FontDialogDirector extends DialogDirector {    public FontDialogDirector() {        super();        // ...    }    public void widgetChanged(Widget theChangedWidget) {        if (theChangedWidget == _fontList) {            _fontName.setText(_fontList.getSelection());        } else if (theChangedWidget == _ok) {            // フォントの変更を適用し、ダイヤログを消す            // ...        } else if (theChangedWidget == _cancel) {            // ダイヤログを消す        }    }    protected void createWidgets() {        _ok = new Button(this);        _cancel = new Button(this);        _fontList = new ListBox(this);        _fontName = new EntryField(this);        // ListBox に使用可能なフォントのリストを設定する        // ダイヤログにウィジェットを並べる    }    private Button _ok;    private Button _cancel;    private ListBox _fontList;    private EntryField _fontName;}</pre><p></font></body></html>