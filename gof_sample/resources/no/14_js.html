<html><head><title>java sample code</title><meta http-equiv="Content-Type" content="text/html; charset=x-sjis"></head><body bgcolor=#ffffff text=#000000><img src="img/00/java.gif" hspace="10"><font style="margin-left:40px"><p><pre>/* *  Command * *  役割：&lt;Command&gt; */public abstract class Command {    public abstract void execute();}/* *  OpenCommand * *  役割：&lt;ConcreteCommand&gt; */public class OpenCommand extends Command {    public OpenCommand(Application a) {        _application = a;    }    public void execute() {        String name = askUser();        if (name != null) {            Document document = new Document(name);            _application.add(document);            document.open();        }    }    protected String askUser() {        // ...    }    private Application _application;    private String _response;}/* *  PasteCommand * *  役割：&lt;ConcreteCommand&gt; */public class PasteCommand extends Command {    public PasteCommand(Document doc) {        _document = doc;    }    public void execute() {        _document.paste();    }    private Document _document;}/* *  SimpleCommand * *  役割：&lt;ConcreteCommand&gt; * * *  Java Reflection API を用いて実層された SimpleCommand クラス。 *  テンプレートを使用するC++ 版と違い、実行時の型情報取り出しに *  頼っている。 * *  使用例： * *   MyClass receiver = new MyClass(); *   // ... *   Command aCommand = new SimpleCommand(receiver, "action"); *   // ... *   aCommand-&gt;execute(); * */public class SimpleCommand extends Command {    public SimpleCommand(Object receiver, String action)             throws NoSuchMethodException, SecurityException {        _receiver = receiver;        _action = action;        _class = _receiver.getClass();        _method = _class.getMethod(action, null);    }    public void execute() {        try {            _method.invoke(_receiver, null);        } catch (Exception e) { }    }    private Object _receiver;    private String _action;    private Class _class;    private java.lang.reflect.Method _method;}/* *  MacroCommand * *  役割：&lt;ConcreteCommand&gt; */public class MacroCommand extends Command {    public MacroCommand() {        _cmds = new java.util.Vector();    }    public void add(Command c) {        _cmds.addElement(c);    }    public void remove(Command c) {        _cmds.removeElement(c);    }    public void execute() {        java.util.Enumeration e = _cmds.elements();        while (e.hasMoreElements()) {            ((Command)e.nextElement()).execute();        }    }    private java.util.Vector _cmds;}</pre><p></font></body></html>