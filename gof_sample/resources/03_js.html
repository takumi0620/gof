<html><head><title>java sample code</title><meta http-equiv="Content-Type" content="text/html; charset=x-sjis"></head><body bgcolor=#ffffff text=#000000><img src="img/00/java.gif" hspace="10"><font style="margin-left:40px"><p><pre>/* *  MazeGame * *  役割：&lt;Creator&gt; */public class MazeGame {    /*     *  &lt;Creator&gt; インターフェース     */    // ファクトリメソッドを使って &lt;Product&gt; を作成するメソッド    public Maze createMaze() {        Maze aMaze = makeMaze();        Room r1 = makeRoom(1);        Room r2 = makeRoom(2);        Door theDoor = makeDoor(r1, r2);        aMaze.addRoom(r1);        aMaze.addRoom(r2);        r1.setSide(MapSite.NORTH, makeWall());        r1.setSide(MapSite.EAST, theDoor);        r1.setSide(MapSite.SOUTH, makeWall());        r1.setSide(MapSite.WEST, makeWall());        r2.setSide(MapSite.NORTH, makeWall());        r2.setSide(MapSite.EAST, makeWall());        r2.setSide(MapSite.SOUTH, makeWall());        r2.setSide(MapSite.WEST, theDoor);        return aMaze;    }    // ファクトリメソッド    public Maze makeMaze()        { return new Maze(); }    public Room makeRoom(int n)        { return new Room(n); }    public Wall makeWall()        { return new Wall(); }    public Door makeDoor(Room r1, Room r2)        { return new Door(r1, r2); }}/* *  BombedMazeGame * *  役割：&lt;ConcreteCreator&gt; */public class BombedMazeGame extends MazeGame {    /*     *  コンストラクタ     */    public BombedMazeGame() {        // ...    }    /*     *  &lt;ConcreteCreator&gt; インターフェース     */    // ファクトリメソッド    public Wall makeWall()        { return new BombedWall(); }    public Room makeRoom(int n)        { return new RoomWithABomb(n); }}/* *  EnchantedMazeGame * *  役割：&lt;ConcreteCreator&gt; */public class EnchantedMazeGame extends MazeGame {    /*     *  コンストラクタ     */    public EnchantedMazeGame() {        // ...    }    /*     *  &lt;ConcreteCreator&gt; インターフェース     */    // ファクトリメソッド    public Room makeRoom(int n)        { return new EnchantedRoom(n, castSpell()); }    public Door makeDoor(Room r1, Room r2)        { return new DoorNeedingSpell(r1, r2); }    /*     *  プライベートメンバ     */    protected Spell castSpell() {        // ...    }}/* *  BombedWall * *  役割：&lt;ConcreteProduct&gt; */public class BombedWall extends Wall {    /*     *  コンストラクタ     */    public BombedWall() {        _bomb = false; // デフォルト値をセット        // ....    }    /*     *  &lt;ConcreteProduct&gt; インターフェース     */    // この &lt;ConcreteProduct&gt; 独自のインターフェース    public boolean hasBomb() {        return _bomb;    }    /*     *  プライベートメンバ     */    private boolean _bomb;}/* *  MapSite * *  役割：（Room, Wall, Door の抽象クラス） */public interface MapSite {    public static final int NORTH = 0;    public static final int SOUTH = 1;    public static final int EAST = 2;    public static final int WEST = 3;    public void enter();}/* *  Room * *  役割：&lt;ConcreteProduct&gt;&lt;Product&gt; */public class Room implements MapSite {    public Room(int roomNo)        { _roomNumber = roomNo; }    public MapSite getSide(int aDirection) {        return _sides[aDirection];    }    public void setSide(int aDirection, MapSite aMapSite) {        _sides[aDirection] = aMapSite;    }    public void enter() {        // ...    }    private int _roomNumber;    private MapSite _sides[] = new MapSite[4];}/* *  Wall * *  役割：&lt;ConcreteProduct&gt;&lt;Product&gt; */public class Wall implements MapSite {    public Wall() {        // ...    }    public void enter() {        // ...    }}/* *  Door * *  役割：&lt;ConcreteProduct&gt;&lt;Product&gt; */public class Door implements MapSite {    public Door(Room r1, Room r2) {        _room1 = r1;        _room2 = r2;    }    public void enter() {        // ...    }    public Room otherSideFrom(Room  aRoom) {        // ...    }    private Room _room1 = null;    private Room _room2 = null;    private boolean _isOpen;}/* *  Maze * *  役割：&lt;ConcreteProduct&gt;&lt;Product&gt; */public class Maze {    public Maze() {        // ...    }    public void addRoom(Room aRoom) {        // ...    }    public Room roomNo(int n) {        // ...    }}/* *  MazeGame * *  役割：&lt;Creator&gt; */public class MazeGame {    /*     *  &lt;Creator&gt; インターフェース     */    // ファクトリメソッドを使って &lt;Product&gt; を作成するメソッド    public Maze createMaze() {        Maze aMaze = makeMaze();        Room r1 = makeRoom(1);        Room r2 = makeRoom(2);        Door theDoor = makeDoor(r1, r2);        aMaze.addRoom(r1);        aMaze.addRoom(r2);        r1.setSide(MapSite.NORTH, makeWall());        r1.setSide(MapSite.EAST, theDoor);        r1.setSide(MapSite.SOUTH, makeWall());        r1.setSide(MapSite.WEST, makeWall());        r2.setSide(MapSite.NORTH, makeWall());        r2.setSide(MapSite.EAST, makeWall());        r2.setSide(MapSite.SOUTH, makeWall());        r2.setSide(MapSite.WEST, theDoor);        return aMaze;    }    // ファクトリメソッド    public Maze makeMaze()        { return new Maze(); }    public Room makeRoom(int n)        { return new Room(n); }    public Wall makeWall()        { return new Wall(); }    public Door makeDoor(Room r1, Room r2)        { return new Door(r1, r2); }}</pre><p></font></body></html>