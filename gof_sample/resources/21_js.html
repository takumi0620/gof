<html><head><title>java sample code</title><meta http-equiv="Content-Type" content="text/html; charset=x-sjis"></head><body bgcolor=#ffffff text=#000000><img src="img/00/java.gif" hspace="10"><font style="margin-left:40px"><p>使用例：<p><pre>      Composition quick = new Composition(new SimpleCompositor());      Composition slick = new Composition(new SimpleCompositor());      Composition iconic = new Composition(new SimpleCompositor());</pre><hr><pre>import java.util.Hashtable;import java.util.Vector;/* *  Composition * *  役割：&lt;Context&gt; */public class Composition {    public Composition(Compositor c) {        // ...    }    public void repair() {        Hashtable natural;        Hashtable stretchability;        Hashtable shrinkability;        int componentCount;        Hashtable breaks;        // コンポーネントごとに Hashtable に希望の各種サイズを        // セットする。（コンポーネントをキーとする Hashtable。）        // ...        // ブレーク位置を決める        int breakCount;        breakCount = _compositor.compose(            natural, stretchability, shrinkability,            componentCount, _lineWidth, breaks        );        // ブレーク位置に従ってコンポーネントを配置する        // ...    }    private Compositor _compositor;    private Vector _components;         // コンポーネントのリスト    private int _componentCount;        // コンポーネントの数    private int _lineWidth;             // 行幅    private Vector _lineBreaks;         // コンポーネント中の行ブ                                        // レークの位置のリスト    private int _lineCount;             // 行数}/* *  Compositor * *  役割：&lt;Strategy&gt; */public abstract class Compositor {    public Compositor() {        // ...    }    public abstract int compose(      Hashtable natural, Hashtable stretch, Hashtable shrink,      int componentCount, int lineWidth, Hashtable breaks     );}/* *  SimpleCompositor * *  役割：&lt;ConcreteStrategy&gt; */public class SimpleCompositor extends Compositor {    public SimpleCompositor() {        // ...    }    public int compose(      Hashtable natural, Hashtable stretch, Hashtable shrink,      int componentCount, int lineWidth, Hashtable breaks     ) {        // ...    }    // ...}/* *  TeXCompositor * *  役割：&lt;ConcreteStrategy&gt; */public class TeXCompositor extends Compositor {    public TeXCompositor() {        // ...    }    public int compose(      Hashtable natural, Hashtable stretch, Hashtable shrink,      int componentCount, int lineWidth, Hashtable breaks     ) {        // ...    }    // ...}/* *  ArrayCompositor * *  役割：&lt;ConcreteStrategy&gt; */public class ArrayCompositor extends Compositor {    public ArrayCompositor() {        // ...    }    public int compose(      Hashtable natural, Hashtable stretch, Hashtable shrink,      int componentCount, int lineWidth, Hashtable breaks     ) {        // ...    }    // ...}</pre><p></font></body></html>